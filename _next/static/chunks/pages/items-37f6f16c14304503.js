(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{83:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/items",function(){return n(7321)}])},7431:function(e,t,n){"use strict";n.d(t,{w:function(){return r},V:function(){return u}});var a=n(5893),s=n(1436),i=n(2814),r=function(){return(0,a.jsx)("div",{className:"text-3xl h-full p-auto w-auto h-auto text-center text-supernova flex flex-wrap justify-center content-center",children:(0,a.jsx)(i.G,{icon:s.IJ7,className:"inline-block animate-spin"})})},u=function(e){var t=e.message,n=e.Icon;return(0,a.jsxs)("div",{className:"text-3xl h-full p-auto w-auto h-auto text-center text-supernova flex flex-wrap justify-center content-center",children:[(0,a.jsx)("span",{className:"text-lg font-cursive mr-1",children:t}),(0,a.jsx)(n,{className:"h-8 w-8 inline animate-bounce"})]})}},2012:function(e,t,n){"use strict";n.d(t,{M:function(){return y}});var a=n(8520),s=n.n(a),i=n(5893),r=n(1436),u=n(2814),o=n(8710),l=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"name":"account","type":"address"},{"indexed":true,"name":"operator","type":"address"},{"indexed":false,"name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"userAddress","type":"address"},{"indexed":false,"name":"relayerAddress","type":"address"},{"indexed":false,"name":"functionSignature","type":"bytes"}],"name":"MetaTransactionExecuted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"ids","type":"uint256[]"},{"indexed":false,"name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"operator","type":"address"},{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"value","type":"string"},{"indexed":true,"name":"id","type":"uint256"}],"name":"URI","type":"event"},{"constant":true,"inputs":[],"name":"ERC712_VERSION","outputs":[{"type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"},{"name":"_uri","type":"string"},{"name":"_proxyRegistryAddress","type":"address"}],"name":"_init","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"},{"name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accounts","type":"address[]"},{"name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_ids","type":"uint256[]"},{"name":"_quantities","type":"uint256[]"},{"name":"_data","type":"bytes"}],"name":"batchMint","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_initialOwner","type":"address"},{"name":"_id","type":"uint256"},{"name":"_initialSupply","type":"uint256"},{"name":"_uri","type":"string"},{"name":"_data","type":"bytes"}],"name":"create","outputs":[{"type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"type":"uint256"}],"name":"creators","outputs":[{"type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"userAddress","type":"address"},{"name":"functionSignature","type":"bytes"},{"name":"sigR","type":"bytes32"},{"name":"sigS","type":"bytes32"},{"name":"sigV","type":"uint8"}],"name":"executeMetaTransaction","outputs":[{"type":"bytes"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"exists","outputs":[{"type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getChainId","outputs":[{"type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getDomainSeperator","outputs":[{"type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"user","type":"address"}],"name":"getNonce","outputs":[{"name":"nonce","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_proxyRegistryAddress","type":"address"}],"name":"initialize","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"name":"isOperator","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_optionId","type":"uint256"},{"name":"_amount","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"mint","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"ids","type":"uint256[]"},{"name":"amounts","type":"uint256[]"},{"name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"id","type":"uint256"},{"name":"amount","type":"uint256"},{"name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"operator","type":"address"},{"name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_ids","type":"uint256[]"}],"name":"setCreator","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_tokenId","type":"uint256"},{"name":"_newURI","type":"string"}],"name":"setCustomURI","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_option","type":"uint256"},{"name":"_maxQuantityPerOpen","type":"uint256"},{"name":"_classProbabilities","type":"uint16[]"},{"name":"_guarantees","type":"uint16[]"}],"name":"setOptionSettings","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_factoryAddress","type":"address"},{"name":"_numOptions","type":"uint256"},{"name":"_numClasses","type":"uint256"},{"name":"_seed","type":"uint256"}],"name":"setState","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_classId","type":"uint256"},{"name":"_tokenIds","type":"uint256[]"}],"name":"setTokenIdsForClass","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_newURI","type":"string"}],"name":"setURI","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"type":"uint256"}],"name":"tokenSupply","outputs":[{"type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"totalSupply","outputs":[{"type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_optionId","type":"uint256"},{"name":"_toAddress","type":"address"},{"name":"_amount","type":"uint256"}],"name":"unpack","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"uri","outputs":[{"type":"string"}],"payable":false,"stateMutability":"view","type":"function"}]'),p=n(856),c=n(7294);function d(e,t,n,a,s,i,r){try{var u=e[i](r),o=u.value}catch(l){return void n(l)}u.done?t(o):Promise.resolve(o).then(a,s)}function y(e){var t=e.method,n=e.className,a=e.token_id,y=e.library,m=e.chainId,f=e.account,x=(0,c.useState)(void 0),b=x[0],v=x[1],h=(0,o.z)(y,l),w=(0,p.nf)(m,"lootbox").contract_addr;(0,c.useEffect)((function(){j()}),[m]);var g,j=(g=s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"balanceOf"==t?h(m,w,"balanceOf",f,parseInt(a)):"totalSupply"==t?h(m,w,"totalSupply",parseInt(a)):void 0;case 3:n=e.sent,v(n.toNumber()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=g.apply(e,t);function i(e){d(s,n,a,i,r,"next",e)}function r(e){d(s,n,a,i,r,"throw",e)}i(void 0)}))});return(0,i.jsx)("div",{className:n,children:b?(0,i.jsx)("span",{children:b}):(0,i.jsx)(u.G,{icon:r.IJ7,className:"inline-block animate-spin"})})}},7321:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(5893),s=n(7294),i=n(7039),r=n(4566),u=n(9795),o=n(856),l=n(7431),p=n(3153),c=n(1163),d=n(6447),y=n(5769),m=n(8269),f=n(2012);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){e.isBox;var t=e.item_id,n=(0,u.Ge)(),s=n.library,i=n.account,r=n.chainId;return r?(0,o.MR)(r)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:["Total Supply:",(0,a.jsx)(f.M,{className:"inline mx-2",method:"totalSupply",token_id:t,library:s,account:i,chainId:r})]}),(0,a.jsxs)("div",{children:["Owns:",(0,a.jsx)(f.M,{className:"inline mx-2",method:"balanceOf",token_id:t,library:s,account:i,chainId:r})]})]}):(0,a.jsx)(l.V,{message:"Unsupported chain",Icon:ExclamationIcon}):(0,a.jsx)(l.V,{message:"Please connect the wallet",Icon:p.oAu})}function v(e){var t=(0,y.m)(e.boxTexture),n=(0,s.useRef)();return(0,d.xQ)((function(e,t){return n.current.rotation.y+=.005})),e.boxTexture?(0,a.jsxs)("mesh",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){x(e,t,n[t])}))}return e}({},e,{ref:n,rotation:e.isBox?[Math.PI/-8,0,0]:[0,0,0],scale:1,children:[(0,a.jsx)("boxGeometry",{args:e.isBox?[2,2,2]:[1.6,3.2,.01]}),(0,a.jsx)("meshStandardMaterial",{map:t})]})):(0,a.jsx)(l.w,{})}function h(){var e=(0,i.$G)().t,t=(0,s.useState)([]),n=t[0],u=t[1],o=(0,s.useState)(void 0),y=o[0],f=o[1],x=(0,s.useState)(!1),h=x[0],w=x[1],g=(0,s.useState)(void 0),j=g[0],_=g[1],N=(0,s.useState)(!1),k=N[0],O=N[1],I=(0,c.useRouter)();return(0,s.useEffect)((function(){var e=(0,m.B6)("id");f(e);var t="box"==(0,m.B6)("asset_type")?"box":"items";"box"==t&&O(!0);var n=1!=window.history.length;fetch("https://diva.cards/api/".concat(t,"/").concat(e,"/")).then((function(e){return e.json()})).then((function(e){w(!1),u(e),_(n)}))}),[]),h||!n?(0,a.jsx)(l.w,{}):(0,a.jsxs)(r.Z,{pageTitle:"tokyo.cards",children:[(0,a.jsx)("button",{className:"block h-14 w-14 bg-diablo-dark-gold rounded-full fixed z-40 bottom-5 right-5 drop-shadow-lg text-white",onClick:function(){j?I.back():I.push("/")},children:j?(0,a.jsx)(p.Y4O,{className:"h-8 w-8 m-auto"}):(0,a.jsx)(p.tvw,{className:"h-8 w-8 m-auto"})}),(0,a.jsxs)("section",{className:"deck-section py-5 h-20",children:[(0,a.jsx)("div",{className:"flex flex-row mx-auto w-1/3 text-cinnabar",children:(0,a.jsx)("div",{className:"border-obsidian-gold border-b-2 w-1/2 m-auto",children:" "})}),(0,a.jsx)("span",{className:"w-1/3 mx-auto lufddo text-center lg:text-2xl text-diablo-dark-gold place-self-center",children:(0,a.jsxs)("div",{className:"font-cursive text-diablo-dark-gold text-xl",children:[" ",e("items.detail")," "]})}),(0,a.jsx)("div",{className:"flex flex-row mx-auto w-1/3 text-cinnabar",children:(0,a.jsx)("div",{className:"border-obsidian-gold border-b-2 w-1/2 m-auto",children:" "})})]}),(0,a.jsxs)("section",{className:"flex flex-wrap gap-5 m-3",children:[(0,a.jsx)("div",{className:"w-full h-96 relative border-diablo-dark-gold rounded-lg text-center lg:w-6/12",children:n.image?(0,a.jsx)(d.Xz,{children:(0,a.jsxs)(s.Suspense,{fallback:null,children:[(0,a.jsx)("ambientLight",{}),(0,a.jsx)("pointLight",{position:[10,10,10]}),(0,a.jsx)(v,{position:[0,0,2],boxTexture:n.image,isBox:k})]})}):(0,a.jsx)(l.w,{})}),(0,a.jsxs)("div",{className:"text-cinnabar w-full lg:w-5/12 flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"bg-obsidian-gray w-full p-4 rounded-lg",children:[n.attributes&&k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-cursive text-rarity-artifact",children:n&&n.name}),(0,a.jsx)("div",{className:"text-base font-cursive text-diablo-dark-gold",children:"Limited"}),(0,a.jsx)("div",{className:"text-sm font-cursive text-diablo-dark-gold",children:"Box"}),(0,a.jsxs)("div",{className:"text-xs font text-rarity-uncommon",children:[n.attributes[0].value," item inside"]})]}),n.attributes&&!k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-cursive text-".concat((0,m.kg)((0,m.PJ)("Rarity",n.attributes).value)),children:n&&n.name}),(0,a.jsx)("div",{className:"text-base font-cursive text-".concat((0,m.kg)((0,m.PJ)("Rarity",n.attributes).value)),children:(0,m.PJ)("Rarity",n.attributes).value}),(0,a.jsx)("div",{className:"text-sm font-cursive text-diablo-dark-gold",children:(0,m.PJ)("Card Type",n.attributes).value})]}),(0,a.jsx)("div",{className:"text-xs text-rarity-artifact",children:n&&n.description})]}),(0,a.jsx)("div",{className:"text-cinnabar p-4 rounded-lg w-full bg-obsidian-gray",children:(0,a.jsx)(b,{isBox:k,item_id:y})})]}),(0,a.jsx)("div",{className:"text-cinnabar flex flex-wrap gap-2 text-center justify-start place-content-center w-full",children:n.attributes&&!k&&n.attributes.map((function(e,t){return"Name"==e.trait_type?null:(0,a.jsxs)("div",{className:"text-sm rounded-lg h-24 w-24 p-2 bg-obsidian-gray relative",children:[(0,a.jsx)("div",{className:"absolute",children:e.trait_type},"title-".concat(t)),(0,a.jsx)("div",{className:"absolute top-10 w-20 text-".concat((0,m.kg)(e.value)),children:e.value},"value-".concat(t))]},"c-".concat(t))}))},"traits")]})]})}},8269:function(e,t,n){"use strict";function a(e){return["uncommon","rare","epic","legendary"].indexOf(e.toString().toLowerCase())>-1?"rarity-".concat(e.toLowerCase()):"diablo-dark-gold"}function s(e,t){return t.find((function(t){return t.trait_type==e}))}function i(e){return 1==e.traits.length?"box":"card"}function r(e){var t=i(e);return"box"==t?a("box"):"card"==t?a(s("rarity",e.traits)):void 0}function u(e){return new URLSearchParams(window.location.search).get(e)}n.d(t,{kg:function(){return a},PJ:function(){return s},YF:function(){return i},s2:function(){return r},B6:function(){return u}})}},function(e){e.O(0,[774,523,112,737,943,769,260,888,179],(function(){return t=83,e(e.s=t);var t}));var t=e.O();_N_E=t}]);